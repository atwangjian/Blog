{"meta":{"title":"wangjian - 爱编程，爱折腾","subtitle":"个人博客小站","description":"wangjian博客","author":"wangjian","url":"http://atwangjian.cn"},"pages":[{"title":"关于","date":"2017-06-14T09:16:21.000Z","updated":"2020-04-05T13:23:03.738Z","comments":true,"path":"about/index.html","permalink":"http://atwangjian.cn/about/index.html","excerpt":"","text":"我 2019年7月毕业，软件工程专业 现工作于南京，任职软件开发工程师 联系邮箱876027276@qq.com 友链 名称 + 链接Send My Email 欢迎技术交流~"},{"title":"","date":"2017-06-14T09:16:21.000Z","updated":"2020-04-05T13:06:11.279Z","comments":false,"path":"others/index.html","permalink":"http://atwangjian.cn/others/index.html","excerpt":"","text":"草在结它的种子 风在摇它的叶子 我们站着，不说话 就十分美好！ –顾诚 《门前》"},{"title":"折腾记录","date":"2017-06-14T09:16:21.000Z","updated":"2020-04-12T06:17:56.518Z","comments":true,"path":"build/index.html","permalink":"http://atwangjian.cn/build/index.html","excerpt":"","text":"诞生2018年某月某天：博客搭建，域名：javacat.cn（未续费，被注了…）一万字…… 历程2020年4月1日：注册域名atwangjian.cn，博客重造2020年4月3日：完成基本功能2020年4月5日：解决搜索功能bug；接入valine评论；增加代码块复制功能；代码块美化；接入Aplayer音乐播放器。搞完23:56 休息~ .2020年4月10日:评论发邮件功能 存在bug:音乐播放异常"},{"title":"记性不好","date":"2017-06-14T09:16:21.000Z","updated":"2020-04-05T14:55:15.404Z","comments":true,"path":"bookmark/index.html","permalink":"http://atwangjian.cn/bookmark/index.html","excerpt":"","text":"开发java知识分享网：http://www.java1234.comhow2j：https://how2j.cnleancloud：https://www.leancloud.cn黑马：http://yun.itheima.com/course?jingjiahmpz-pz-pc-biaoti 娱乐vip视频破解：http://www.66re.cn/vip音乐直链搜索：https://music.liuzhijin.cn"}],"posts":[{"title":"Spring事务","slug":"spring/1","date":"2020-04-08T14:36:07.841Z","updated":"2020-04-14T13:53:08.573Z","comments":true,"path":"spring/1.html","link":"","permalink":"http://atwangjian.cn/spring/1.html","excerpt":"","text":"一.事务的概念和特性概念：事务指的是逻辑上的一组操作，这个操作要么全部成功，要么全部失败。特性： 特性 描述 原子性 事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生 一致性 事务前后数据的完整性必须保持一致 隔离性 多个用户并发访问数据库时，一个用户的事务不能被其他用户的事务所干扰，多个并发事务之间数据要相互隔离 持久性 一个事务一旦被提交，它对数据库中数据的改变就是永久性的，即使数据库发生故障也不应该对其有任何影响 二.事务的APISpring事务管理高层抽象主要包括3个接口PlatformTransactionManager:事务管理器TransactionDefinition:事务定义信息（隔离，传播，超时，只读）TransactionStatus:事务具体运行状态 2.1 PlatformTransactionManagerSpring为不同的持久化框架提供了不同PlatformTransactionManager接口实现 事务 说明 org.springframework.jdbc.datasource.DataSourceTransactionManager 使用Spring JDBC或ibatis进行持久化数据时使用 org.springframework.orm.hibernate3.HibernateTransactionManager 使用Hibernate3.0版本进行持久化数据时使用 org.springframework.orm.jpa.JpaTransactionManager 使用JPA进行持久时使用 org.springframework.orm.jdo.JdoTransactionManager 当持久化机制是Jdo时使用 org.springframework.transaction.jta.JtaTransactionManager 使用一个JTA实现来管理事务，在一个事务跨越多个资源时必须使用 2.2 TransactionDefinition2.2.1 隔离级别 隔离级别 含义 DEFAULT 使用后端数据库默认的隔离级别（srping中的选择项） READ_UNCOMMITED 允许你读取还未提交的改变了的数据，可能导致脏，幻，不可重复读 READ_UNCOMMITTED 允许在并发事务已经提交后读取，可防止脏读，但幻读和不可重复读仍可发生 REPEATABLE_READ 对相同字段的多次读取时一致的，除非数据被事务本身改变，可防止脏，不可重复读，但幻读仍可能发生 SERIALIZABLE 完全服从ACID的隔离级别，确保不发生脏，幻，不可重复读。这在所有的隔离级别中是最低的，它是典型的通过完全锁定在事务中涉及的数据表来完成的 Mysql默认采用REPEATABLE_READ隔离级别，Oracle默认采用READ_COMMITTED隔离级别。 脏读：一个事务读取了另一个事务改写但还未提交的数据，如果这些数据被回滚，则读到的数据是无效的。不可重复读：在同一个事务中，多次读取同一数据返回的结果有所不同。幻读：一个事务读取了几行记录后，另一个事务插入一些记录，幻读就发生了。再后来的查询中，第一个事务就会发现有些原来没有的记录。 2.2.1 传播行为 事务传播行为类型 说明 PROPAGATION_REQUIRED 支持当前事务，假设当前没有事务。就新建一个事务） PROPAGATION_SUPPORTS 支持当前事务，假设当前没有事务，就以非事务方式运行 PROPAGATION_MANDATORY 支持当前事务，假设当前没有事务，就抛出异常 PROPAGATION_REQUIRES_NEW 新建事务，假设当前存在事务。把当前事务挂起 PROPAGATION_NOT_SUPPORTED 以非事务方式运行操作。假设当前存在事务，就把当前事务挂起 PROPAGATION_NEVER 以非事务方式运行，假设当前存在事务，则抛出异常 PROPAGATION_NESTED 如果当前存在事务，则在嵌套事务内执行。如果当前没有事务，则执行与PROPAGATION_REQUIRED类似的操作。 aaa,bbb的这2个操作是在一个事务里面的aaa,bbb的这2个操作不在一个事务里面的aaa执行完以后，设置一个保存点，当bbb发生异常以后，回滚到保存点或最初始状态 其他博客：https://blog.csdn.net/qq_38526573/article/details/87898161","categories":[{"name":"Spring","slug":"Spring","permalink":"http://atwangjian.cn/categories/Spring/"}],"tags":[{"name":"Spring","slug":"Spring","permalink":"http://atwangjian.cn/tags/Spring/"}],"keywords":[{"name":"Spring","slug":"Spring","permalink":"http://atwangjian.cn/categories/Spring/"}]},{"title":"测试专用","slug":"test","date":"2020-04-05T12:25:25.429Z","updated":"2020-04-05T13:38:50.509Z","comments":true,"path":"test.html","link":"","permalink":"http://atwangjian.cn/test.html","excerpt":"","text":"一级目录testasdfasdfasddddddddddddddsdafdasfsdafasdfsdfsdafsdafdsf sdfsdf dsfsdafasdfasdf asdfasdfasddddddddddddddsdafdasfsdafasdfsdfsdafsdafdsf sdfsdf dsfasdfasdfasdf asdfasdfasddddddddddddddsdafdasfsdafasdfsdfsdafsdafdsf sdfsdf sdafasdfsasdfasdfasddddddddddddddsdafdasfsdafasdfsdfsdafsdafdsf sdfsdf 测试测试测试 位运算 符号 计算 按位与 &amp; 相同为1，不同为0 按位或 &#124; 有1则1 按位异或 ^ 相同为0，不同位1 按位取反 ~ 左移 &lt;&lt; 相当于乘以2^n^ 右移 &gt;&gt; 相当于除以2^n^ 无符号右移 &gt;&gt;&gt;","categories":[{"name":"测试","slug":"测试","permalink":"http://atwangjian.cn/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"测试","slug":"测试","permalink":"http://atwangjian.cn/tags/%E6%B5%8B%E8%AF%95/"}],"keywords":[{"name":"测试","slug":"测试","permalink":"http://atwangjian.cn/categories/%E6%B5%8B%E8%AF%95/"}]},{"title":"Java工具类","slug":"tools","date":"2020-04-03T09:16:21.000Z","updated":"2020-04-05T14:52:49.313Z","comments":false,"path":"tools.html","link":"","permalink":"http://atwangjian.cn/tools.html","excerpt":"","text":"一.String字符串1.对字符串去除符号并转为json123456789101112131415public static void removeSymbol() &#123; String msg = \"\\\"&#123;\\\"name\\\": \\\"张三\\\",\\\"password\\\": \\\"@123456\\\",\\\"age\\\": \\\"15\\\"&#125;\\\"\"; // 去除转义 String msg1 = msg.replaceAll(\"\\\\\\\\\", \"\"); System.out.println(\"原来字符串:\"+msg); System.out.println(\"去除转义:\"+msg1); // 去除首尾\"\" String msg2 = msg1.substring(1, msg1.length() - 1); System.out.println(\"去除首尾双引号:\"+msg2); // 转为json JSONObject json = JSONObject.parseObject(msg2); System.out.println(\"转为json\"+json); String name = json.getString(\"name\"); System.out.println(\"json中name的值:\" + name);&#125; 运行结果： 12345原来字符串:\"&#123;\"name\": \"张三\",\"password\": \"@123456\",\"age\": \"15\"&#125;\"去除转义:\"&#123;\"name\": \"张三\",\"password\": \"@123456\",\"age\": \"15\"&#125;\"去除首尾双引号:&#123;\"name\": \"张三\",\"password\": \"@123456\",\"age\": \"15\"&#125;转为json&#123;\"password\":\"@123456\",\"name\":\"张三\",\"age\":\"15\"&#125;json中name的值:张三","categories":[{"name":"Java","slug":"Java","permalink":"http://atwangjian.cn/categories/Java/"}],"tags":[{"name":"工具类","slug":"工具类","permalink":"http://atwangjian.cn/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/"}],"keywords":[{"name":"Java","slug":"Java","permalink":"http://atwangjian.cn/categories/Java/"}]},{"title":"留言板","slug":"liuyanban","date":"2020-02-02T14:22:22.000Z","updated":"2020-04-05T13:17:20.099Z","comments":true,"path":"liuyanban.html","link":"","permalink":"http://atwangjian.cn/liuyanban.html","excerpt":"","text":"欢迎留下你的足迹！点开留言板在评论区随便说点什么吧~","categories":[],"tags":[],"keywords":[]}]}